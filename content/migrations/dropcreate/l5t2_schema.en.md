---
title: "DB schema"
date: 2018-12-15
draft: false
layout: "lesson"
weight: 1
pre: "<i class='fa fa-database'>&nbsp;</i> "
---
##### Create schema script generated by KittyORM for database `mig` version `2`
{{< highlight sql >}}
CREATE TABLE IF NOT EXISTS mig_one (id INTEGER NOT NULL PRIMARY KEY ASC, creation_date TEXT NOT NULL DEFAULT  CURRENT_DATE , default_integer INTEGER DEFAULT 228, current_timestamp INTEGER);

CREATE INDEX IF NOT EXISTS m1_di_index ON mig_one (default_integer);

CREATE TABLE IF NOT EXISTS mig_two (id INTEGER NOT NULL PRIMARY KEY ASC, mig_one_reference INTEGER REFERENCES mig_one (id) ON UPDATE CASCADE ON DELETE CASCADE, some_animal TEXT);

CREATE INDEX IF NOT EXISTS m2_sa_index ON mig_two (some_animal);
{{< /highlight >}} 
##### Drop schema script generated by KittyORM for database `mig` version `2`
{{< highlight sql >}}
DROP TABLE IF EXISTS mig_one;

DROP TABLE IF EXISTS mig_two;
{{< /highlight >}} 
##### Migration script generated by KittyORM for database `mig` from version `1` to version `2` (DC migrator)
{{< highlight sql >}}
DROP TABLE IF EXISTS mig_one;

DROP TABLE IF EXISTS mig_two;

CREATE TABLE IF NOT EXISTS mig_one (id INTEGER NOT NULL PRIMARY KEY ASC, creation_date TEXT NOT NULL DEFAULT  CURRENT_DATE , default_integer INTEGER DEFAULT 228, current_timestamp INTEGER);

CREATE INDEX IF NOT EXISTS m1_di_index ON mig_one (default_integer);

CREATE TABLE IF NOT EXISTS mig_two (id INTEGER NOT NULL PRIMARY KEY ASC, mig_one_reference INTEGER REFERENCES mig_one (id) ON UPDATE CASCADE ON DELETE CASCADE, some_animal TEXT);

CREATE INDEX IF NOT EXISTS m2_sa_index ON mig_two (some_animal);
{{< /highlight >}} 
