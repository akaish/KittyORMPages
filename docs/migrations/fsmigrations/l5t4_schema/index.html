<!DOCTYPE html>
<html>
  <head>
    <title>KittyORM Pages</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2019-01-28T08:42:34 MSK">
<title>DB schema :: KittyORM Pages</title>
<link rel="shortcut icon" href="/KittyORMPages/images/favicon.png" type="image/x-icon" />
<link href="/KittyORMPages/css/font-awesome.min.css" rel="stylesheet">
<link href="/KittyORMPages/css/nucleus.css" rel="stylesheet">
<link href="/KittyORMPages/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/KittyORMPages/css/bootstrap.min.css">
<script src="/KittyORMPages/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/akaish.github.io\/KittyORMPages\/";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/KittyORMPages/migrations/fsmigrations/l5t4_schema/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="https://akaish.github.io/KittyORMPages/">KittyORM Pages</a>
  


  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://github.com/akaish/KittyORM"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Github</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://twitter.com/OrmKitty"  rel="noopener">
                  <i class='fa fa-twitter'></i> <label>@OrmKitty</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://t.me/kittyorm"  rel="noopener">
                  <i class='fa fa-telegram'></i> <label>@KittyORM</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://akaish.github.io/KittyORM/"  rel="noopener">
                  <i class='fa fa-at'></i> <label>Javadoc</label>
                </a>
            </li>
            <li class="" role="">
                <a href="/KittyORMPages/hidden/android"  rel="noopener">
                  <i class='fa fa-android'></i> <label>KittyORM Demo</label>
                </a>
            </li>
            <li class="" role="">
                <a href="/KittyORMPages/contacts"  rel="noopener">
                  <i class='fa fa-envelope'></i> <label>Contacts</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/KittyORMPages/" class="dd-item">
          <a href="/KittyORMPages/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/KittyORMPages/getting_started/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/getting_started/">Getting started with KittyORM</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/getting_started/l1_schema/" class="dd-item">
        <div>
          <a href="/KittyORMPages/getting_started/l1_schema/">
            <i class='fa fa-database'>&nbsp;</i> DB schema
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/getting_started/l1_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/getting_started/l1_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/crud_operations/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/crud_operations/">CRUD operations</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/KittyORMPages/crud_operations/save/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/crud_operations/save/">Saving new entity</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/crud_operations/save/l2_schema/" class="dd-item">
        <div>
          <a href="/KittyORMPages/crud_operations/save/l2_schema/">
            <i class='fa fa-database'>&nbsp;</i> DB schema
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/crud_operations/save/l2t1_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/crud_operations/save/l2t1_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/crud_operations/update/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/crud_operations/update/">Updating existing entity</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/crud_operations/update/l2_schema/" class="dd-item">
        <div>
          <a href="/KittyORMPages/crud_operations/update/l2_schema/">
            <i class='fa fa-database'>&nbsp;</i> DB schema
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/crud_operations/update/l2t2_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/crud_operations/update/l2t2_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/crud_operations/delete/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/crud_operations/delete/">Deleting entities</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/crud_operations/delete/l2_schema/" class="dd-item">
        <div>
          <a href="/KittyORMPages/crud_operations/delete/l2_schema/">
            <i class='fa fa-database'>&nbsp;</i> DB schema
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/crud_operations/delete/l2t3_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/crud_operations/delete/l2t3_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/crud_operations/find/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/crud_operations/find/">Finding entities</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/crud_operations/find/l2_schema/" class="dd-item">
        <div>
          <a href="/KittyORMPages/crud_operations/find/l2_schema/">
            <i class='fa fa-database'>&nbsp;</i> DB schema
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/crud_operations/find/l2t4_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/crud_operations/find/l2t4_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/crud_operations/bulk/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/crud_operations/bulk/">KittyORM and bulk operations</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/crud_operations/bulk/l2_schema/" class="dd-item">
        <div>
          <a href="/KittyORMPages/crud_operations/bulk/l2_schema/">
            <i class='fa fa-database'>&nbsp;</i> DB schema
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/crud_operations/bulk/l2t5_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/crud_operations/bulk/l2t5_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/datatype_mapping/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/datatype_mapping/">KittyORM datatypes mapping</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/datatype_mapping/l3_schema/" class="dd-item">
        <div>
          <a href="/KittyORMPages/datatype_mapping/l3_schema/">
            <i class='fa fa-database'>&nbsp;</i> DB schema
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/datatype_mapping/l3t1_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/datatype_mapping/l3t1_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/constraints/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/constraints/">Constraints and indexes declarations</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/constraints/l3_schema/" class="dd-item">
        <div>
          <a href="/KittyORMPages/constraints/l3_schema/">
            <i class='fa fa-database'>&nbsp;</i> DB schema
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/constraints/l3t2_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/constraints/l3t2_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/migrations/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/KittyORMPages/migrations/">Migrations between different DB versions</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/KittyORMPages/migrations/overview/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/migrations/overview/">Migrations overview</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/migrations/overview/l5t1_schema/" class="dd-item">
        <div>
          <a href="/KittyORMPages/migrations/overview/l5t1_schema/">
            <i class='fa fa-database'>&nbsp;</i> DB schema
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/migrations/overview/l5t1_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/migrations/overview/l5t1_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/migrations/dropcreate/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/migrations/dropcreate/">DropCreate Migrator</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/migrations/dropcreate/l5t2_schema/" class="dd-item">
        <div>
          <a href="/KittyORMPages/migrations/dropcreate/l5t2_schema/">
            <i class='fa fa-database'>&nbsp;</i> DB schema
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/migrations/dropcreate/l5t2_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/migrations/dropcreate/l5t2_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/migrations/simplemigrations/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/migrations/simplemigrations/">Simple Migration Script Generator Migrator</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/migrations/simplemigrations/l5t3_schema/" class="dd-item">
        <div>
          <a href="/KittyORMPages/migrations/simplemigrations/l5t3_schema/">
            <i class='fa fa-database'>&nbsp;</i> DB schema
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/migrations/simplemigrations/l5t3_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/migrations/simplemigrations/l5t3_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/migrations/fsmigrations/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/KittyORMPages/migrations/fsmigrations/">Filescript Migrator</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/migrations/fsmigrations/l5t4_schema/" class="dd-item active">
        <div>
          <a href="/KittyORMPages/migrations/fsmigrations/l5t4_schema/">
            <i class='fa fa-database'>&nbsp;</i> DB schema
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/migrations/fsmigrations/l5t4_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/migrations/fsmigrations/l5t4_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/speedup/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/speedup/">Speed up your KittyORM</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/speedup/l4t1_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/speedup/l4t1_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/debug/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/debug/">Debugging KittyORM</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/debug/l4t2_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/debug/l4t2_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/encrypt/" class="dd-item haschildren
        ">
      <div>
      <a href="/KittyORMPages/encrypt/">Database encryption</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/encrypt/l4t3_code/" class="dd-item">
        <div>
          <a href="/KittyORMPages/encrypt/l4t3_code/">
            <i class='fa fa-code'>&nbsp;</i> Source code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/makekittygreater/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/KittyORMPages/makekittygreater/">Make KittyORM greater</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/KittyORMPages/makekittygreater/l6t1/" class="dd-item">
        <div>
          <a href="/KittyORMPages/makekittygreater/l6t1/">
            <i class='fa fa-edit'>&nbsp;</i> Use KittyORM
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/makekittygreater/l6t2/" class="dd-item">
        <div>
          <a href="/KittyORMPages/makekittygreater/l6t2/">
            <i class='fa fa-share'>&nbsp;</i> Share KittyORM
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/makekittygreater/l6t3/" class="dd-item">
        <div>
          <a href="/KittyORMPages/makekittygreater/l6t3/">
            <i class='fa fa-github'>&nbsp;</i> Contribute to KittyORM
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/KittyORMPages/makekittygreater/l6t4/" class="dd-item">
        <div>
          <a href="/KittyORMPages/makekittygreater/l6t4/">
            <i class='fa fa-usd'>&nbsp;</i> Sponsor KittyORM development
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/KittyORMPages/contacts/" class="dd-item
        ">
      <div>
      <a href="/KittyORMPages/contacts/"><i class='fa fa-envelope'>&nbsp;</i> Contacts</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/KittyORMPages/license/" class="dd-item
        ">
      <div>
      <a href="/KittyORMPages/license/">Legal information</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/KittyORMPages/getting_started/" >
   Getting started with KittyORM</option>
    <option value="/KittyORMPages/crud_operations/" >
   CRUD operations</option>
    <option value="/KittyORMPages/datatype_mapping/" >
   KittyORM datatypes mapping</option>
    <option value="/KittyORMPages/constraints/" >
   Constraints and indexes declarations</option>
    <option value="/KittyORMPages/migrations/" >
   Migrations between different DB versions</option> 
    <option value="/KittyORMPages/migrations/overview/" >
  - 
   Migrations overview</option>
    <option value="/KittyORMPages/migrations/dropcreate/" >
  - 
   DropCreate Migrator</option>
    <option value="/KittyORMPages/migrations/simplemigrations/" >
  - 
   Simple Migration Script Generator Migrator</option>
    <option value="/KittyORMPages/migrations/fsmigrations/" >
  - 
   Filescript Migrator</option> 
      <option value="/KittyORMPages/migrations/fsmigrations/l5t4_schema/"  selected>-- DB schema</option>
      <option value="/KittyORMPages/migrations/fsmigrations/l5t4_code/" >-- Source code</option>
  
  
    <option value="/KittyORMPages/speedup/" >
   Speed up your KittyORM</option>
    <option value="/KittyORMPages/debug/" >
   Debugging KittyORM</option>
    <option value="/KittyORMPages/encrypt/" >
   Database encryption</option>
    <option value="/KittyORMPages/makekittygreater/" >
   Make KittyORM greater</option> 
      <option value="/KittyORMPages/makekittygreater/l6t1/" >- Use KittyORM</option>
      <option value="/KittyORMPages/makekittygreater/l6t2/" >- Share KittyORM</option>
      <option value="/KittyORMPages/makekittygreater/l6t3/" >- Contribute to KittyORM</option>
      <option value="/KittyORMPages/makekittygreater/l6t4/" >- Sponsor KittyORM development</option>
  
    <option value="/KittyORMPages/contacts/" >
   Contacts</option>
    <option value="/KittyORMPages/license/" >
   Legal information</option>
    <option value="/KittyORMPages/hidden/" >
   Hidden</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/KittyORMPages/js/lunr.min.js"></script>
        <script type="text/javascript" src="/KittyORMPages/js/auto-complete.js"></script>
        <link href="/KittyORMPages/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/akaish.github.io\/KittyORMPages\/";
          
        </script>
        <script type="text/javascript" src="/KittyORMPages/js/search.js"></script>
      </div>
    

    <h1>DB schema</h1>
    
    
    
    

<h5 id="create-schema-script-for-database-mig-version-4">Create schema script for database <code>mig</code> version <code>4</code></h5>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="font-weight:bold">CREATE</span> <span style="font-weight:bold">TABLE</span> <span style="font-weight:bold">IF</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">EXISTS</span> mig_four (id <span style="color:#999">INTEGER</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">NULL</span> <span style="font-weight:bold">PRIMARY</span> <span style="font-weight:bold">KEY</span> <span style="font-weight:bold">ASC</span>, mig_three_reference <span style="color:#999">INTEGER</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">NULL</span> <span style="font-weight:bold">REFERENCES</span> mig_three (id) <span style="font-weight:bold">ON</span> <span style="font-weight:bold">UPDATE</span> <span style="font-weight:bold">NO</span> ACTION <span style="font-weight:bold">ON</span> <span style="font-weight:bold">DELETE</span> <span style="font-weight:bold">NO</span> ACTION, mig_two_reference <span style="color:#999">INTEGER</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">NULL</span> <span style="font-weight:bold">REFERENCES</span> mig_two (id) <span style="font-weight:bold">ON</span> <span style="font-weight:bold">UPDATE</span> <span style="font-weight:bold">NO</span> ACTION <span style="font-weight:bold">ON</span> <span style="font-weight:bold">DELETE</span> <span style="font-weight:bold">NO</span> ACTION, creation_date <span style="color:#999">INTEGER</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">NULL</span> <span style="font-weight:bold">DEFAULT</span>  <span style="font-weight:bold">CURRENT_DATE</span> );

<span style="font-weight:bold">CREATE</span> <span style="font-weight:bold">TABLE</span> <span style="font-weight:bold">IF</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">EXISTS</span> mig_three (id <span style="color:#999">INTEGER</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">NULL</span> <span style="font-weight:bold">PRIMARY</span> <span style="font-weight:bold">KEY</span> <span style="font-weight:bold">ASC</span>, new_sv_name <span style="color:#999">TEXT</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">NULL</span> <span style="font-weight:bold">DEFAULT</span> <span style="color:#b84">&#39;Something random&#39;</span>, random_long <span style="color:#999">INTEGER</span> <span style="font-weight:bold">DEFAULT</span> <span style="color:#099">22</span>);

<span style="font-weight:bold">CREATE</span> <span style="font-weight:bold">INDEX</span> <span style="font-weight:bold">IF</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">EXISTS</span> m3_rnd_long <span style="font-weight:bold">ON</span> mig_three (random_long);

<span style="font-weight:bold">CREATE</span> <span style="font-weight:bold">TABLE</span> <span style="font-weight:bold">IF</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">EXISTS</span> mig_two (id <span style="color:#999">INTEGER</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">NULL</span> <span style="font-weight:bold">PRIMARY</span> <span style="font-weight:bold">KEY</span> <span style="font-weight:bold">ASC</span>, mig_one_reference <span style="color:#999">INTEGER</span>, some_animal <span style="color:#999">TEXT</span>, some_animal_sound <span style="color:#999">TEXT</span>);</code></pre></div>

<h5 id="drop-schema-script-for-database-mig-version-4">Drop schema script for database <code>mig</code> version <code>4</code></h5>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="font-weight:bold">DROP</span> <span style="font-weight:bold">TABLE</span> <span style="font-weight:bold">IF</span> <span style="font-weight:bold">EXISTS</span> mig_four;

<span style="font-weight:bold">DROP</span> <span style="font-weight:bold">TABLE</span> <span style="font-weight:bold">IF</span> <span style="font-weight:bold">EXISTS</span> mig_three;

<span style="font-weight:bold">DROP</span> <span style="font-weight:bold">TABLE</span> <span style="font-weight:bold">IF</span> <span style="font-weight:bold">EXISTS</span> mig_two;</code></pre></div>

<h5 id="migration-script-for-database-mig-from-version-3-to-version-4-filescript-migrator">Migration script for database <code>mig</code> from version <code>3</code> to version <code>4</code> (Filescript migrator)</h5>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#998;font-style:italic">-- minus FK M2.migOneReference
</span><span style="color:#998;font-style:italic"></span><span style="font-weight:bold">ALTER</span> <span style="font-weight:bold">TABLE</span> mig_two <span style="font-weight:bold">RENAME</span> <span style="font-weight:bold">TO</span> mig_two_old_t;

<span style="font-weight:bold">CREATE</span> <span style="font-weight:bold">TABLE</span> <span style="font-weight:bold">IF</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">EXISTS</span> mig_two (id <span style="color:#999">INTEGER</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">NULL</span> <span style="font-weight:bold">PRIMARY</span> <span style="font-weight:bold">KEY</span> <span style="font-weight:bold">ASC</span>, mig_one_reference <span style="color:#999">INTEGER</span>, some_animal <span style="color:#999">TEXT</span>, some_animal_sound <span style="color:#999">TEXT</span>);

<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_two (id, mig_one_reference, some_animal, some_animal_sound) <span style="font-weight:bold">SELECT</span> id, mig_one_reference, some_animal, some_animal_sound <span style="font-weight:bold">FROM</span> mig_two_old_t;

<span style="font-weight:bold">DROP</span> <span style="font-weight:bold">TABLE</span> <span style="font-weight:bold">IF</span> <span style="font-weight:bold">EXISTS</span> mig_two_old_t;

<span style="color:#998;font-style:italic">-- minus M1 table
</span><span style="color:#998;font-style:italic"></span><span style="font-weight:bold">DROP</span> <span style="font-weight:bold">TABLE</span> <span style="font-weight:bold">IF</span> <span style="font-weight:bold">EXISTS</span> mig_one;

<span style="color:#998;font-style:italic">-- plus M4 table
</span><span style="color:#998;font-style:italic"></span><span style="font-weight:bold">CREATE</span> <span style="font-weight:bold">TABLE</span> <span style="font-weight:bold">IF</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">EXISTS</span> mig_four (id <span style="color:#999">INTEGER</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">NULL</span> <span style="font-weight:bold">PRIMARY</span> <span style="font-weight:bold">KEY</span> <span style="font-weight:bold">ASC</span>, mig_three_reference <span style="color:#999">INTEGER</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">NULL</span> <span style="font-weight:bold">REFERENCES</span> mig_three (id) <span style="font-weight:bold">ON</span> <span style="font-weight:bold">UPDATE</span> <span style="font-weight:bold">NO</span> ACTION <span style="font-weight:bold">ON</span> <span style="font-weight:bold">DELETE</span> <span style="font-weight:bold">NO</span> ACTION, mig_two_reference <span style="color:#999">INTEGER</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">NULL</span> <span style="font-weight:bold">REFERENCES</span> mig_two (id) <span style="font-weight:bold">ON</span> <span style="font-weight:bold">UPDATE</span> <span style="font-weight:bold">NO</span> ACTION <span style="font-weight:bold">ON</span> <span style="font-weight:bold">DELETE</span> <span style="font-weight:bold">NO</span> ACTION, creation_date <span style="color:#999">INTEGER</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">NULL</span> <span style="font-weight:bold">DEFAULT</span>  <span style="font-weight:bold">CURRENT_DATE</span> );

<span style="color:#998;font-style:italic">-- rename M3.some_value to M3.new_sv_name and add M3.random_long
</span><span style="color:#998;font-style:italic"></span><span style="font-weight:bold">ALTER</span> <span style="font-weight:bold">TABLE</span> mig_three <span style="font-weight:bold">RENAME</span> <span style="font-weight:bold">TO</span> mig_three_old_t;

<span style="font-weight:bold">CREATE</span> <span style="font-weight:bold">TABLE</span> <span style="font-weight:bold">IF</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">EXISTS</span> mig_three (id <span style="color:#999">INTEGER</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">NULL</span> <span style="font-weight:bold">PRIMARY</span> <span style="font-weight:bold">KEY</span> <span style="font-weight:bold">ASC</span>, new_sv_name <span style="color:#999">TEXT</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">NULL</span> <span style="font-weight:bold">DEFAULT</span> <span style="color:#b84">&#39;Something random&#39;</span>, random_long <span style="color:#999">INTEGER</span> <span style="font-weight:bold">DEFAULT</span> <span style="color:#099">22</span>);

<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (id, new_sv_name) <span style="font-weight:bold">SELECT</span> id, some_value <span style="font-weight:bold">FROM</span> mig_three_old_t;

<span style="font-weight:bold">DROP</span> <span style="font-weight:bold">TABLE</span> <span style="font-weight:bold">IF</span> <span style="font-weight:bold">EXISTS</span> mig_three_old_t;

<span style="color:#998;font-style:italic">-- add index on M3.random_long
</span><span style="color:#998;font-style:italic"></span><span style="font-weight:bold">CREATE</span> <span style="font-weight:bold">INDEX</span> <span style="font-weight:bold">IF</span> <span style="font-weight:bold">NOT</span> <span style="font-weight:bold">EXISTS</span> m3_rnd_long <span style="font-weight:bold">ON</span> mig_three (random_long);</code></pre></div>

<h5 id="aftercreate-script-for-database-mig-version-4">AfterCreate script for database <code>mig</code> version <code>4</code></h5>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER CREATE SCRIPT&#39;</span>, <span style="color:#099">1</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER CREATE SCRIPT&#39;</span>, <span style="color:#099">2</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER CREATE SCRIPT&#39;</span>, <span style="color:#099">3</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER CREATE SCRIPT&#39;</span>, <span style="color:#099">4</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER CREATE SCRIPT&#39;</span>, <span style="color:#099">5</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER CREATE SCRIPT&#39;</span>, <span style="color:#099">6</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER CREATE SCRIPT&#39;</span>, <span style="color:#099">7</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER CREATE SCRIPT&#39;</span>, <span style="color:#099">8</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER CREATE SCRIPT&#39;</span>, <span style="color:#099">9</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER CREATE SCRIPT&#39;</span>, <span style="color:#099">10</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER CREATE SCRIPT&#39;</span>, <span style="color:#099">11</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER CREATE SCRIPT&#39;</span>, <span style="color:#099">12</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER CREATE SCRIPT&#39;</span>, <span style="color:#099">13</span>);</code></pre></div>

<h5 id="aftermigrate-script-for-database-mig-version-4">AfterMigrate script for database <code>mig</code> version <code>4</code></h5>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">1</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">11</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">111</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">1111</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">11111</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">111111</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">1111111</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">11111111</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">1111111</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">111111</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">11111</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">1111</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">111</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">11</span>);
<span style="font-weight:bold">INSERT</span> <span style="font-weight:bold">INTO</span> mig_three (new_sv_name, random_long) <span style="font-weight:bold">VALUES</span> (<span style="color:#b84">&#39;AFTER MIGRATE SCRIPT&#39;</span>, <span style="color:#099">1</span>);</code></pre></div>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/KittyORMPages/migrations/fsmigrations/" title="Filescript Migrator"> <i class="fa fa-chevron-left"></i><label>Filescript Migrator</label></a>
    <a class="nav nav-next" href="/KittyORMPages/migrations/fsmigrations/l5t4_code/" title="Source code" style="margin-right: 0px;"><label>Source code</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    
    <div class="date">
        <i class='fa fa-calendar'></i> Last update on 15/12/2018
    </div>
    

    
    <div class="github-link">
      <a href="https://github.com/akaish/KittyORMPages/tree/master/content/migrations/fsmigrations/l5t4_schema.en.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
    
  </div>


	<div>


  
    <p><a href="https://akaish.github.io/KittyORMPages/license/"><em>KittyORM project. Copyright © 2018 Denis Bogomolov. Some rights reserved.</em></a></p>

<p><em>KittyORM documentation site powered by <a href="https://gohugo.io"><strong>Hugo</strong></a> with <a href="https://github.com/vjeantet/hugo-theme-docdock"><strong>DocDock</strong></a> theme.</em></p>

<p><center></p>

<p><a href="https://github.com/akaish/KittyORM" title="Visit KittyORM Github repo">

<span class="fa fa-github"  style="font-size:large" aria-hidden="true"></span>

</a>&nbsp;&nbsp;
<a href="https://twitter.com/OrmKitty" title="Follow KittyORM at twitter">

<span class="fa fa-twitter"  style="font-size:large" aria-hidden="true"></span>

</a>&nbsp;&nbsp;
<a href="https://t.me/kittyorm" title="Subscribe to KittyORM telegram channel">

<span class="fa fa-telegram"  style="font-size:large" aria-hidden="true"></span>

</a>&nbsp;&nbsp;
<a href="https://stackoverflow.com/users/10656176/kittyorm" title="Ask questions related with KittyORM at StackOverflow">

<span class="fa fa-stack-overflow"  style="font-size:large" aria-hidden="true"></span>

</a>&nbsp;&nbsp;
<a href="https://akaish.github.io/KittyORMPages/hidden/android" title="Check out KittyORM Demo at Play Market">

<span class="fa fa-android"  style="font-size:large" aria-hidden="true"></span>

</a>&nbsp;&nbsp;
<a href="https://akaish.github.io/KittyORMPages/contacts" title="Contact us">

<span class="fa fa-envelope"  style="font-size:large" aria-hidden="true"></span>

</a>&nbsp;&nbsp;
<a href="https://akaish.github.io/KittyORMPages/makekittygreater/l6t4" title="Sponsor KittyORM development">

<span class="fa fa-usd"  style="font-size:large" aria-hidden="true"></span>

</a>&nbsp;&nbsp;</p>

<p></center></p>

  



	</div>
</footer>

<script src="/KittyORMPages/js/clipboard.min.js"></script>

<link href="/KittyORMPages/css/featherlight.min.css" rel="stylesheet">
<script src="/KittyORMPages/js/featherlight.min.js"></script>



<script src="/KittyORMPages/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>